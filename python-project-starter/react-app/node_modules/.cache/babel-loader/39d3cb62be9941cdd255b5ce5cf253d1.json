{"ast":null,"code":"const SET_GOAL = \"goal/setGoal\";\n\nconst setGoal = goal => ({\n  type: SET_GOAL,\n  payload: goal\n});\n\nexport const createGoal = ({\n  title,\n  description,\n  steps,\n  deadline,\n  userId\n}) => async dispatch => {\n  const res = await fetch(\"/api/goals/\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      title,\n      description,\n      steps,\n      deadline,\n      userId\n    })\n  });\n  const data = await res.json();\n  dispatch(setGoal(data));\n};\nconst initialState = {\n  goal: null\n};\n\nfunction reducer(state = initialState, action) {\n  let newState;\n\n  switch (action.type) {\n    case SET_GOAL:\n      {\n        if (state.goal) {\n          const newGoal = [...state.goal, action.payload];\n          return { ...state,\n            goal: newGoal\n          };\n        }\n\n        return { ...state,\n          goal: action.payload\n        };\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["/Users/brandonparsons/Downloads/Capstone/python-project-starter/react-app/src/store/goals.js"],"names":["SET_GOAL","setGoal","goal","type","payload","createGoal","title","description","steps","deadline","userId","dispatch","res","fetch","method","headers","body","JSON","stringify","data","json","initialState","reducer","state","action","newState","newGoal"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,cAAjB;;AAEA,MAAMC,OAAO,GAAIC,IAAD,KAAW;AACvBC,EAAAA,IAAI,EAAEH,QADiB;AAEvBI,EAAAA,OAAO,EAAEF;AAFc,CAAX,CAAhB;;AAKE,OAAO,MAAMG,UAAU,GAAG,CAAC;AACzBC,EAAAA,KADyB;AAEzBC,EAAAA,WAFyB;AAGzBC,EAAAA,KAHyB;AAIzBC,EAAAA,QAJyB;AAKzBC,EAAAA;AALyB,CAAD,KAMpB,MAAOC,QAAP,IAAoB;AACxB,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAD,EAAgB;AACrCC,IAAAA,MAAM,EAAE,MAD6B;AAErCC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAF4B;AAKrCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBZ,MAAAA,KADmB;AAEnBC,MAAAA,WAFmB;AAGnBC,MAAAA,KAHmB;AAInBC,MAAAA,QAJmB;AAKnBC,MAAAA;AALmB,KAAf;AAL+B,GAAhB,CAAvB;AAaA,QAAMS,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAAnB;AACAT,EAAAA,QAAQ,CAACV,OAAO,CAACkB,IAAD,CAAR,CAAR;AACD,CAtBM;AAwBP,MAAME,YAAY,GAAG;AAAEnB,EAAAA,IAAI,EAAE;AAAR,CAArB;;AAEA,SAASoB,OAAT,CAAiBC,KAAK,GAAGF,YAAzB,EAAuCG,MAAvC,EAA+C;AAC7C,MAAIC,QAAJ;;AACA,UAAQD,MAAM,CAACrB,IAAf;AACE,SAAKH,QAAL;AAAe;AACb,YAAIuB,KAAK,CAACrB,IAAV,EAAgB;AACd,gBAAMwB,OAAO,GAAG,CAAC,GAAGH,KAAK,CAACrB,IAAV,EAAgBsB,MAAM,CAACpB,OAAvB,CAAhB;AACA,iBAAO,EAAE,GAAGmB,KAAL;AAAYrB,YAAAA,IAAI,EAAEwB;AAAlB,WAAP;AACD;;AACD,eAAO,EAAE,GAAGH,KAAL;AAAYrB,UAAAA,IAAI,EAAEsB,MAAM,CAACpB;AAAzB,SAAP;AACD;;AACD;AACE,aAAOmB,KAAP;AATJ;AAWD;;AAED,eAAeD,OAAf","sourcesContent":["const SET_GOAL = \"goal/setGoal\";\n\nconst setGoal = (goal) => ({\n    type: SET_GOAL,\n    payload: goal,\n  });\n  \n  export const createGoal = ({\n    title,\n    description,\n    steps,\n    deadline,\n    userId,\n  }) => async (dispatch) => {\n    const res = await fetch(\"/api/goals/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        title,\n        description,\n        steps,\n        deadline,\n        userId,\n      }),\n    });\n    const data = await res.json();\n    dispatch(setGoal(data));\n  };\n\n  const initialState = { goal: null };\n\n  function reducer(state = initialState, action) {\n    let newState;\n    switch (action.type) {\n      case SET_GOAL: {\n        if (state.goal) {\n          const newGoal = [...state.goal, action.payload];\n          return { ...state, goal: newGoal };\n        }\n        return { ...state, goal: action.payload };\n      }\n      default:\n        return state;\n    }\n  }\n  \n  export default reducer;"]},"metadata":{},"sourceType":"module"}